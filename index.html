<!doctype html>
<html>
<head>
	<!-- 精简后的元数据 -->
	<title>信任的进化</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="description" content="an interactive guide to the game theory of why &amp; how we trust each other">
	
	<!-- 基本社交媒体元数据 -->
	<meta property="og:title" content="The Evolution of Trust">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://trust.csy2022.top/">
	<meta property="og:image" content="social/thumbnail.png">
	<meta property="og:description" content="an interactive guide to the game theory of why &amp; how we trust each other">

	<!-- 样式 -->
	<link rel="stylesheet" href="css/slides.css?v10">
	<link rel="stylesheet" href="css/balloon.css?v10">
	
	<!-- 移动端专用样式 -->
	<style>
		/* 基础样式 */
		body {
			font-size: 16px;
			margin: 0;
			padding: 0;
			overflow-x: hidden;
			-webkit-text-size-adjust: 100%;
		}
		
		#main {
			width: 100%;
			max-width: 100%;
			box-sizing: border-box;
		}
		
		#slideshow_container {
			width: 100%;
			height: auto;
			padding: 5px;
			box-sizing: border-box;
		}
		
		/* 移动设备竖屏特定样式 */
		@media screen and (max-width: 768px) and (orientation: portrait) {
			body {
				font-size: 14px;
			}
			
			#slideshow_container {
				padding: 2px;
			}
			
			/* 调整游戏元素大小和布局 */
			.simulation-container {
				width: 100%;
				overflow: hidden;
			}
			
			.game-board {
				transform: scale(0.8);
				transform-origin: top center;
				margin: 0 auto;
			}
			
			/* 按钮和交互元素 */
			.button, .slider-handle, .checkbox {
				min-width: 36px;
				min-height: 36px;
				font-size: 13px;
				padding: 6px 10px;
				margin: 3px;
			}
			
			/* 文本内容调整 */
			.text-content {
				padding: 5px;
				line-height: 1.4;
			}
			
			.textbox {
				width: 98%;
				margin: 5px auto;
				font-size: 14px;
			}
			
			/* 简化复杂元素 */
			.secondary-visual {
				display: none;
			}
			
			/* 调整页脚 */
			#footer {
				flex-direction: column;
				padding: 5px 0;
			}
			
			#sound {
				margin-bottom: 8px;
			}
			
			sharing {
				transform: scale(0.7);
			}
		}
		
		/* 小屏幕竖屏设备调整 */
		@media screen and (max-width: 480px) and (orientation: portrait) {
			body {
				font-size: 13px;
			}
			
			.button {
				padding: 5px 8px;
				font-size: 12px;
				min-width: 32px;
				min-height: 32px;
			}
			
			/* 进一步缩小游戏元素 */
			.game-board {
				transform: scale(0.7);
			}
			
			/* 简化文本内容 */
			.long-text {
				font-size: 12px;
				line-height: 1.3;
			}
		}
		
		/* 横屏优化 - 保留原有优化 */
		@media screen and (orientation: landscape) {
			/* 横屏特有样式 */
		}
		
		/* 预加载样式 */
		#preloader {
			font-size: 16px;
			padding: 20px;
			text-align: center;
		}
		
		/* 移除方向提示层 - 因为现在支持竖屏 */
		#orientation-warning {
			display: none !important;
		}
	</style>
</head>
<body>
	<!-- 预加载提示 -->
	<div id="preloader">
		载入中...<br>
		<small>最佳体验建议使用横屏模式</small>
	</div>
	
	<div style="display:none" id="main">
		<div id="slideshow_container">
			<div id="slideshow"></div>
			<div id="scratcher"></div>
		</div>
	</div>
	
	<div style="display:none" id="footer">
		<div id="sound" sound="on" class="no-select">
			<div id="sound_icon"></div>
			<div id="sound_on">开</div>
			<div id="sound_off">关</div>
		</div>
		<div id="select"></div>

		<sharing title="信用的进化"
				 text="人们不再彼此相互信任，为什么？我们该怎么改变这种情况？一个合作博弈论的互动讲解手册："
				 link="https://trust.csy2022.top/">
		</sharing>
	</div>

	<!-- 脚本加载 -->
	<script src="js/lib/helpers.js?v10"></script>
	<script src="js/lib/pegasus.js?v10"></script>
	<script>var c_ = {};</script>
	<script src="js/lib/minpubsub.src.js?v10"></script>
	<script src="js/lib/pixi.min.js?v10"></script>
	<script src="js/lib/howler.js?v10"></script>
	<script>var createjs = window;</script>
	<script src="js/lib/tweenjs-0.6.2.min.js?v10"></script>
	<script>Ticker.framerate=60; Ticker.paused=true;</script>
	<script src="js/lib/sharing.js?v10"></script>

	<!-- 核心引擎 -->
	<script src="js/core/Loader.js?v10"></script>
	<script src="js/core/Slideshow.js?v10"></script>
	<script src="js/core/SlideSelect.js?v10"></script>
	<script src="js/core/Button.js?v10"></script>
	<script src="js/core/TextBox.js?v10"></script>
	<script src="js/core/Words.js?v10"></script>

	<!-- 主代码 - 添加竖屏适配逻辑 -->
	<script src="js/main.js?v10"></script>
	
	<!-- 竖屏适配脚本 -->
	<script>
		// 动态调整内容以适应竖屏
		function adaptToPortrait() {
			if (window.innerHeight > window.innerWidth) {
				// 竖屏模式下的调整
				document.body.classList.add('portrait-mode');
				
				// 可以在这里添加更多JavaScript调整
				console.log("竖屏模式已激活");
			} else {
				document.body.classList.remove('portrait-mode');
			}
		}
		
		// 初始检查和事件监听
		adaptToPortrait();
		window.addEventListener('resize', adaptToPortrait);
		window.addEventListener('orientationchange', adaptToPortrait);
	</script>
</body>
</html>